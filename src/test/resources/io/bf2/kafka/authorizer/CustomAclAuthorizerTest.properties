# Listeners configured to allow any operation for any user
strimzi.authorization.custom-authorizer.allowed-listeners= canary, loop

# Resources/operations that may be the object of an ACL
strimzi.authorization.custom-authorizer.resource-operations={\
  "cluster": [ "describe", "alter" ],\
  "group": [ "delete", "describe", "read" ],\
  "topic": [ "alter", "alter_configs", "create", "delete", "describe", "describe_configs", "read", "write" ],\
  "transactional_id": [ "describe", "write" ]\
}

# Custom ACLs - update expected count in testConfigureTallyLoaded when modifying the ACLs below
strimzi.authorization.custom-authorizer.acl.1=permission=allow;topic=foo;operations=describe,read,write,create,alter
strimzi.authorization.custom-authorizer.acl.2=permission=allow;topic=bar;operations=read
strimzi.authorization.custom-authorizer.acl.3=permission=deny;group=xyz;operations=read,create
strimzi.authorization.custom-authorizer.acl.4=permission=allow;topic=abc*;operations=all
strimzi.authorization.custom-authorizer.acl.5=permission=allow;topic=*;operations=read;
strimzi.authorization.custom-authorizer.acl.6=permission=deny;listeners=external.*;cluster=*;operations=all;apis=\t
strimzi.authorization.custom-authorizer.acl.7=permission=allow;topic=baz;operations=alter,alter_configs,create,delete,describe,describe_configs,read,write
strimzi.authorization.custom-authorizer.acl.8=permission=allow;listeners=sre.*;cluster=*;operations=describe,alter;apis=create_acls,describe_acls,delete_acls
strimzi.authorization.custom-authorizer.acl.9=permission=deny;topic=secret;operations=all;principal=anonymous
strimzi.authorization.custom-authorizer.acl.10=permission=deny;topic=foo;operations-except=describe;principal=bob
strimzi.authorization.custom-authorizer.acl.11=permission=allow;topic=baa;operations=describe;apis-except=offset_for_leader_epoch;principal=alice
strimzi.authorization.custom-authorizer.acl.12=permission=deny;group=xyz;principal=User:any;operations=read
# Takes priority over ACL #6
strimzi.authorization.custom-authorizer.acl.13=permission=allow;listeners=external.*;cluster=*;operations=all;principal=alice;priority=1

# Logging configs
strimzi.authorization.custom-authorizer.acl.logging.001=cluster=*;apis=fetch;level=TRACE
strimzi.authorization.custom-authorizer.acl.logging.002=topic=*;operations=describe;level=DEBUG
strimzi.authorization.custom-authorizer.acl.logging.003=priority=1;topic=__strimzi_canary;operations=describe,read,write;level=TRACE

# DEBUG has a higher priority than TRACE
strimzi.authorization.custom-authorizer.acl.logging.004=cluster=*;apis=ALTER_ISR;level=TRACE
strimzi.authorization.custom-authorizer.acl.logging.005=cluster=*;apis=ALTER_ISR;level=DEBUG

# Can still raise log level
strimzi.authorization.custom-authorizer.acl.logging.006=topic=important_topic;level=WARN

strimzi.authorization.custom-authorizer.adminclient-listener.name=controlplane
strimzi.authorization.custom-authorizer.adminclient-listener.port=9090
strimzi.authorization.custom-authorizer.adminclient-listener.protocol=PLAINTEXT
